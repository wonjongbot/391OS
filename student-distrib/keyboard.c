#include "keyboard.h"
#include "i8259.h"
#include "lib.h"

void keyboard_init(){
    enable_irq(0x1);
}

char scancode_down [0x54] = {
    0x00, 0x1B, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, // 0x00 - 0x07
    0x37, 0x38, 0x39, 0x30, 0x2D, 0x3D, 0x08, 0x09, // 0x08 - 0x0f
    0x71, 0x77, 0x65, 0x72, 0x74, 0x79, 0x75, 0x69, // 0x10 - 0x17
    0x6f, 0x70, 0x5b, 0x5d, 0x0d, 0x00, 0x61, 0x73, // 0x18 - 0x1f
    0x64, 0x66, 0x67, 0x68, 0x6A, 0x6B, 0x6C, 0x3B, // 0x20 - 0x27
    0x27, 0x60, 0x00, 0x5C, 0x7A, 0x78, 0x63, 0x76, // 0x28 - 0x2f
    0x62, 0x6E, 0x6D, 0x2C, 0x2E, 0x2F, 0x00, 0x2A, // 0x30 - 0x37
    0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // 0x38 - 0x3f
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // 0x40 - 0x47
    0x00, 0x00, 0x2D, 0x00, 0x00, 0x00, 0x2B, 0x00, // 0x48 - 0x4f
    0x00, 0x00, 0x00, 0x00// 0x50 - 0x53

};
void keyboard_handler(){
    uint32_t scancode;
    scancode = inb(0x60);
    if(scancode < 0x53)
        putc(scancode_down[scancode]);
    send_eoi(0x1);
}
